<!DOCTYPE html>
<html lang="kr">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>회원가입</title>
    <link rel="stylesheet" type="text/css" href="./css/commons.css">
    
    <script>
     
        // 아이디
        function memberIdCheck(){
            var memberIdInput = document.querySelector("input[name=memberId]");
            var memberIdSpan = memberIdInput.nextElementSibling;

            var regex = /^[a-z][a-z0-9-_]{5,20}$/;

            var isCorrect = regex.test(memberIdInput.value);

            if(isCorrect){
                memberIdSpan.textContent = "";
            }
            else{
                memberIdSpan.textContent = "5~20자의 영문 소문자, 숫자와 특수기호(_),(-)만 사용 가능합니다.";
            }
            
        }

        // 비밀번호
        function memberPwCheck(){
            var memberPwInput = document.querySelector("input[name=memberPw]");
            var memberPwSpan = memberPwInput.nextElementSibling;

            var regex = /^[a-zA-Z0-9-_!@#$]{8,16}$/;

            var isCorrect = regex.test(memberPwInput.value);

            if(isCorrect){
                memberPwSpan.textContent = "";
            }
            else{
                memberPwSpan.textContent = "8~16자 영문 대 소문자, 숫자, 특수문자를 사용하세요.";
            }
        }

        // 닉네임
         function nicknameCheck(){
            var nicknameInput = document.querySelector("input[name=memberNick]");
            var nicknameSpan = nicknameInput.nextElementSibling;

            var regex = /^[가-힣]{2,10}$/;

            var isCorrect = regex.test(nicknameInput.value);

            if(isCorrect){
                nicknameSpan.textContent = "";
            }
            else{
                nicknameSpan.textContent = "한글 2~10자 이내로 작성하세요";
            }
        }

        //생년월일
         function memberBirthCheck(){
            var memberBirthInput = document.querySelector("input[name=memberBirth]");
            var memberBirthSpan = memberBirthInput.nextElementSibling;

            var regex = /^(19[2][2-9]|19[2-9][2-9]|20\d{2})-(0[0-9]|1[0-2])-(0[1-9]|[1-2][0-9]|3[0-1])$/;

            var isCorrect = regex.test(memberBirthInput.value);

            if(isCorrect){
                memberBirthSpan.textContent = "";
            }
            else{
                memberBirthSpan.textContent = "정말이세요?";
            }
        }

        //이메일
        function memberEmailCheck(){
            var memberEmailInput = document.querySelector("input[name=memberEmail]");
            var memberEmailSpan = memberEmailInput.nextElementSibling;

            var regex = /^[a-zA-Z0-9]+([a-zA-Z0-9])+@([a-zA-Z0-9]+\.)+[a-zA-Z0-9]{2,8}$/;

            var isCorrect = regex.test(memberEmailInput.value);

            if(isCorrect){
                memberEmailSpan.textContent = "";
            }
            else{
                memberEmailSpan.textContent = "잘못된 이메일 형식입니다";
            }
        }

        // 전화번호
        function memberPhoneCheck(){
            var memberPhoneInput = document.querySelector("input[name=memberPhone]");
            var memberPhoneSpan = memberPhoneInput.nextElementSibling;

            var regex = /^010(-[0-9]{4}){2}$/;

            var isCorrect = regex.test(memberPhoneInput.value);

            if(isCorrect){
                memberPhoneSpan.textContent = "";
            }
            else{
                memberPhoneSpan.textContent = "잘못된 전화번호 형식입니다";
            }
        }
    </script>
</head>

<body>
    <form action="join.txt" method="post" enctype="multipart/form-data">
	
        <div class="container-400 container-center">
            <div class="row center">
                <h1>회원가입</h1>
            </div>
            <div class="row">
                <label>아이디</label>
                <input type="text" name="memberId" required class="form-input" oninput="memberIdCheck();">
                <span></span>
            </div>
            <div class="row">
                <label>비밀번호</label>
                <input type="password" name="memberPw" required class="form-input" oninput="memberPwCheck();">
                <span></span>
            </div>
            <div class="row">
                <label>닉네임</label>
                <input type="text" name="memberNick" required class="form-input"  oninput="nicknameCheck();">
                <span></span>
            </div>
            <div class="row">
                <label class="form-block">생년월일</label>
                <input type="date" name="memberBirth" required class="form-input form-inline" oninput="memberBirthCheck();">
                <span></span>
            </div>
            <div class="row">
                <label>이메일</label>
                <input type="email" name="memberEmail" class="form-input" oninput="memberEmailCheck();">
                <span></span>
            </div>
            <div class="row">
                <label>전화번호</label>
                <input type="tel" name="memberPhone" class="form-input" oninput="memberPhoneCheck();">
                <span></span>
            </div>
            <div class="row">
                <input type="submit" value="가입" class="form-btn">
            </div>
        </div>
        </form>
</body>
</html>